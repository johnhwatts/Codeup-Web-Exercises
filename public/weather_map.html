<!DOCTYPE html>
<html>
	<head>
     <!-- responsive CSS -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Weather Map</title>
       
        <!-- latest compiled and minified CSS -->
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <!-- custom CSS -->
		<link rel="stylesheet" href="/css/weather_map.css">
	</head>
	<body>
        <div class="container text-center">
            <div class="jumbotron">
              <h1>Weather Map App</h1>
            </div>
              <p></p>
              <div class="row">
                <div class="col-sm-12 text-center cityBox"></div>
              </div>
              <div class="row">
                <div class="col-sm-4 dayOne">
                    <div class="row"></div>
                        <div class="col-xs-12"></div>
                </div>
                <div class="col-sm-4 text-center dayTwo">Tomorrow</div>
                <div class="col-sm-4 text-center dayThree">Day 3</div>
              </div>
                <p></p>
                <p><a id="refresh" class="btn btn-primary btn-lg">Reset location to default</a></p>
        </div>
        <!-- minified jQuery -->
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        
        <!-- Latest compiled and minified JavaScript -->
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script>
        "use strict";
		
        $("document").ready(function() {

            var APPID = "7f8e3aa0aad113510e0c1eaafd1c17b8";
            var url = "http://api.openweathermap.org/data/2.5/forecast/daily";

            //make a function for making an AJAX request to the OpenWeatherMap API to return a weather object
            function getWeather() {
                // the .get method takes in 2 objects, thus the comma after url; the second object is the APPID 
                $.get(url, {
                    APPID: APPID,
                    q: "San Antonio",
                    // lat: 29,423017,
                    // lon: -98.48527,
                    cnt: 3,
                    units: "imperial"
                }).fail(function(data, status) {
                    alert("Failed to load:" + status);
                }).done(function(data) {
                    console.log(data);
                    console.log(data.city.name);
                    console.log(data.list[0].humidity);
                    $('.cityBox').append(data.city.name);
                    $('.dayOne').append((data.list[0].temp.max) + "°" + " / " + (data.list[0].temp.min) + "°");
                    $('.dayOne').append(data.list[0].weather.icon);
                    $('.dayOne').append(weather.list[0].clouds);



                });

            }   



            getWeather();




        
        });
	</script>
	</body>
</html>